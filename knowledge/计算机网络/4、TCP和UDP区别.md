# TCP

面向连接的、可靠的、基于字节流的传输层通信协议。

数据传输时，应用层向TCP发送数据流，然后TCP将数据流分割成适当长度的报文段，报文段的长度通常受该计算机连接的网络的数据链路层的最大传输单元即MTU的限制。之后将结果报发送给IP层，由他通过网络来传给目标节点的TCP层。



# TCP和UDP区别

**UDP应用场景：实时应用**

> eg: RIP选路表的更新； DNS; SNMP等都是运行在UDP之上。

1. 面向数据报方式
2. 网络数据大多为短消息
3. 拥有大量Client
4. 对数据安全性无特殊要求
5. 网络负担非常重，但对响应速度要求高

**TCP与UDP区别总结：**

1. TCP面向连接（如打电话要先拨号建立连接）;UDP是无连接的，即发送数据之前不需要建立连接。
2. TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达;UDP尽最大努力交付，即不保证可靠交付。
3. 、TCP面向字节流，实际上是TCP把数据看成一连串无结构的字节流;UDP是面向报文的。UDP没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如[IP电话](https://www.baidu.com/s?wd=IP%E7%94%B5%E8%AF%9D&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd)，实时视频会议等）。
4. 每一条TCP连接只能是点到点的;UDP支持一对一，一对多，多对一和多对多的交互通信。
5. TCP首部开销20字节;UDP的首部开销小，只有8个字节。
6. TCP的逻辑通信信道是全双工的可靠信道，UDP则是不可靠信道。

**PS：**

TCP通过检验和、序列号、确认应答、重发控制、连接管理以及窗口控制等机制实现可靠性传输。

TCP、UDP都是传输层协议。

**UDP是全双工吗？**

所谓全双工，半双工，单工是指面向连接时才有的说法，如果不是面向连接的，没有一个确定的连接的话，怎么会出现半双工这种只准一个来或者一个去的说法呢？

UDP支持一对一，一对多，多对一和多对多的交互通信。如果一定要涉及到全双工的话，大概理解为不仅提供全双工，甚至提供全多工服务，只是UDP是不可靠的服务而已。